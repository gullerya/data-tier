(()=>{"use strict";console.warn('You are using script-flavor distribution of "object-observer". It is HIGHLY recommended to switch to ES6-module-flavor distribution, since this version is not developed anymore, apart from critical defect fixes.');const e=this||window,t="insert",r="update",o="delete",n="reverse",a="shuffle",i=Symbol("system-observer-key"),s={Date:!0,Blob:!0,Number:!0,String:!0,Boolean:!0,Error:!0,SyntaxError:!0,TypeError:!0,URIError:!0,Function:!0,Promise:!0,RegExp:!0},l={revoke:{value:function(){this[i].revoke()}},observe:{value:function(e){let t=this[i],r=t.observers;if(t.isRevoked)throw new TypeError("revoked Observable MAY NOT be observed anymore");if("function"!=typeof e)throw new Error("observer parameter MUST be a function");r.indexOf(e)<0?r.push(e):console.info("observer may be bound to an observable only once")}},unobserve:{value:function(){let e,t,r=this[i],o=r.observers;if(r.isRevoked)throw new TypeError("revoked Observable MAY NOT be unobserved anymore");if(e=arguments.length)for(;e--;)(t=o.indexOf(arguments[e]))>=0&&o.splice(t,1);else o.splice(0)}}},c=function(e,t,r){let o,n=e.length;for(t[i]=r;n--;)(o=e[n])&&"object"==typeof o&&!s.hasOwnProperty(o.constructor.name)?t[n]=Array.isArray(o)?new h({target:o,ownKey:n,parent:r}).proxy:new d({target:o,ownKey:n,parent:r}).proxy:t[n]=o},p=function(e,t,r){let o,n,a=Object.keys(e),l=a.length;for(t[i]=r;l--;)(n=e[o=a[l]])&&"object"==typeof n&&!s.hasOwnProperty(n.constructor.name)?t[o]=Array.isArray(n)?new h({target:n,ownKey:o,parent:r}).proxy:new d({target:n,ownKey:o,parent:r}).proxy:t[o]=n},f=function(e,t){let r=e.length;for(;r--;)try{e[r](t)}catch(t){console.error("failed to deliver changes to listener"+e[r],t)}},u=function(e){let t,r=[],o=0,n=0;for(;e.parent;)r[o++]=e.ownKey,e=e.parent;for(t=new Array(o);o--;)t[n++]=r[o];return{observers:e.observers,path:t}};class h{constructor(e){let t=e.target,r=new Array(t.length);null===e.parent?(this.isRevoked=!1,this.observers=[],Object.defineProperties(r,l)):(this.parent=e.parent,this.ownKey=e.ownKey),c(t,r,this),this.revokable=Proxy.revocable(r,this),this.proxy=this.revokable.proxy,this.target=r}revoke(){this.revokable.revoke();let e,t=this.target,r=t.length;for(;r--;)if((e=t[r])&&"object"==typeof e){let o=e[i];o&&(t[r]=o.revoke())}return t}get(e,l){const c={pop:function(e,t){let r,n;if(r=e.length-1,(n=e.pop())&&"object"==typeof n){let e=n[i];e&&(n=e.revoke())}let a=u(t);return a.observers.length&&(a.path.push(r),f(a.observers,[{type:o,path:a.path,oldValue:n}])),n},push:function(e,r){let o,n,a,i,l,c=arguments.length-2,p=new Array(c),y=u(r);for(l=e.length,o=0;o<c;o++)(n=arguments[o+2])&&"object"==typeof n&&!s.hasOwnProperty(n.constructor.name)&&(n=Array.isArray(n)?new h({target:n,ownKey:l+o,parent:r}).proxy:new d({target:n,ownKey:l+o,parent:r}).proxy),p[o]=n;if(a=Reflect.apply(e.push,e,p),y.observers.length){for(i=[],o=l,c=e.length;o<c;o++){let r=y.path.slice(0);r.push(o),i[o-l]={type:t,path:r,value:e[o]}}f(y.observers,i)}return a},shift:function(e,t){let r,n,a,s,l,c;if((r=e.shift())&&"object"==typeof r){let e=r[i];e&&(r=e.revoke())}for(n=0,a=e.length;n<a;n++)if((s=e[n])&&"object"==typeof s){let e=s[i];e&&(e.ownKey=n)}return(l=u(t)).observers.length&&(l.path.push(0),c=[{type:o,path:l.path,oldValue:r}],f(l.observers,c)),r},unshift:function(e,r){let o,n,a,l;(o=Array.from(arguments)).splice(0,2),o.forEach((e,t)=>{e&&"object"==typeof e&&!s.hasOwnProperty(e.constructor.name)&&(o[t]=Array.isArray(e)?new h({target:e,ownKey:t,parent:r}).proxy:new d({target:e,ownKey:t,parent:r}).proxy)}),n=Reflect.apply(e.unshift,e,o);for(let t,r=0,o=e.length;r<o;r++)if((t=e[r])&&"object"==typeof t){let e=t[i];e&&(e.ownKey=r)}if((a=u(r)).observers.length){let r,n=o.length;l=new Array(n);for(let o=0;o<n;o++)(r=a.path.slice(0)).push(o),l[o]={type:t,path:r,value:e[o]};f(a.observers,l)}return n},reverse:function(e,t){let r,o,a,s,l;for(e.reverse(),r=0,o=e.length;r<o;r++)if((a=e[r])&&"object"==typeof a){let e=a[i];e&&(e.ownKey=r)}return(s=u(t)).observers.length&&(l=[{type:n,path:s.path}],f(s.observers,l)),t.proxy},sort:function(e,t,r){let o,n,s,l,c;for(e.sort(r),o=0,n=e.length;o<n;o++)if((s=e[o])&&"object"==typeof s){let e=s[i];e&&(e.ownKey=o)}return(l=u(t)).observers.length&&(c=[{type:a,path:l.path}],f(l.observers,c)),t.proxy},fill:function(e,o){let n,a,l,c,p,y,v=u(o),b=[],g=e.length;(n=Array.from(arguments)).splice(0,2),l=(a=n.length)<2?0:n[1]<0?g+n[1]:n[1],c=a<3?g:n[2]<0?g+n[2]:n[2],p=e.slice(0),Reflect.apply(e.fill,e,n);for(let n,a,f=l;f<c;f++)if((n=e[f])&&"object"==typeof n&&!s.hasOwnProperty(n.constructor.name)&&(e[f]=Array.isArray(n)?new h({target:n,ownKey:f,parent:o}).proxy:new d({target:n,ownKey:f,parent:o}).proxy),p.hasOwnProperty(f)){if((a=p[f])&&"object"==typeof a){let e=a[i];e&&(a=e.revoke())}(y=v.path.slice(0)).push(f),b.push({type:r,path:y,value:e[f],oldValue:a})}else(y=v.path.slice(0)).push(f),b.push({type:t,path:y,value:e[f]});return v.observers.length&&f(v.observers,b),o.proxy},splice:function(e,n){let a,l,c,p,y,v,b,g,w,m,E=u(n),O=[],N=e.length;(a=Array.from(arguments)).splice(0,2),b=a.length;for(let e,t=2;t<b;t++)(e=a[t])&&"object"==typeof e&&!s.hasOwnProperty(e.constructor.name)&&(a[t]=Array.isArray(e)?new h({target:e,ownKey:t,parent:n}).proxy:new d({target:e,ownKey:t,parent:n}).proxy);p=0===b?0:a[0]<0?N+a[0]:a[0],y=b<2?N-p:a[1],v=Math.max(b-2,0),l=Reflect.apply(e.splice,e,a),N=e.length;for(let t,r=0;r<N;r++)(t=e[r])&&"object"==typeof t&&(c=t[i])&&(c.ownKey=r);for(g=0,w=l.length;g<w;g++)(m=l[g])&&"object"==typeof m&&(c=m[i])&&(l[g]=c.revoke());if(E.observers.length){let n,a;for(n=0;n<y;n++)(a=E.path.slice(0)).push(p+n),n<v?O.push({type:r,path:a,value:e[p+n],oldValue:l[n]}):O.push({type:o,path:a,oldValue:l[n]});for(;n<v;n++)(a=E.path.slice(0)).push(p+n),O.push({type:t,path:a,value:e[p+n]});f(E.observers,O)}return l}};return c.hasOwnProperty(l)?c[l].bind(void 0,e,this):e[l]}set(e,o,n){let a,l,c=e[o];if(n&&"object"==typeof n&&!s.hasOwnProperty(n.constructor.name)?e[o]=Array.isArray(n)?new h({target:n,ownKey:o,parent:this}).proxy:new d({target:n,ownKey:o,parent:this}).proxy:e[o]=n,c&&"object"==typeof c){let e=c[i];e&&(c=e.revoke())}return(a=u(this)).observers.length&&(a.path.push(o),l=void 0===c?[{type:t,path:a.path,value:n}]:[{type:r,path:a.path,value:n,oldValue:c}],f(a.observers,l)),!0}deleteProperty(e,t){let r,n,a=e[t];if(delete e[t]){if(a&&"object"==typeof a){let e=a[i];e&&(a=e.revoke())}return(r=u(this)).observers.length&&(r.path.push(t),n=[{type:o,path:r.path,oldValue:a}],f(r.observers,n)),!0}return!1}}class d{constructor(e){let t=e.target,r={};null===e.parent?(this.isRevoked=!1,this.observers=[],Object.defineProperties(r,l)):(this.parent=e.parent,this.ownKey=e.ownKey),p(t,r,this),this.revokable=Proxy.revocable(r,this),this.proxy=this.revokable.proxy,this.target=r}revoke(){this.revokable.revoke();let e,t,r=this.target,o=Object.keys(r),n=o.length;for(;n--;)if((t=r[e=o[n]])&&"object"==typeof t){let o=t[i];o&&(r[e]=o.revoke())}return r}set(e,o,n){let a,l,c=e[o];if(n&&"object"==typeof n&&!s.hasOwnProperty(n.constructor.name)?e[o]=Array.isArray(n)?new h({target:n,ownKey:o,parent:this}).proxy:new d({target:n,ownKey:o,parent:this}).proxy:e[o]=n,c&&"object"==typeof c){let e=c[i];e&&(c=e.revoke())}return(a=u(this)).observers.length&&(a.path.push(o),l=void 0===c?[{type:t,path:a.path,value:n}]:[{type:r,path:a.path,value:n,oldValue:c}],f(a.observers,l)),!0}deleteProperty(e,t){let r,n,a=e[t];if(delete e[t]){if(a&&"object"==typeof a){let e=a[i];e&&(a=e.revoke())}return(r=u(this)).observers.length&&(r.path.push(t),n=[{type:o,path:r.path,oldValue:a}],f(r.observers,n)),!0}return!1}}class y{constructor(){throw new Error('Observable MAY NOT be created via constructor, see "Observable.from" API')}static from(e){if(!(!e||"object"!=typeof e||s.hasOwnProperty(e.constructor.name)||"observe"in e||"unobserve"in e||"revoke"in e)){return(Array.isArray(e)?new h({target:e,ownKey:null,parent:null}):new d({target:e,ownKey:null,parent:null})).proxy}if(!e||"object"!=typeof e)throw new Error("observable MAY ONLY be created from non-null object only");if("observe"in e||"unobserve"in e||"revoke"in e)throw new Error('target object MUST NOT have nor own neither inherited properties from the following list: "observe", "unobserve", "revoke"');if(s.hasOwnProperty(e.constructor.name))throw new Error(e+" found to be one of non-observable object types: "+s)}static isObservable(e){return"object"==typeof e&&null!==e&&"function"==typeof e.revoke&&"function"==typeof e.observe&&"function"==typeof e.unobserve}}Object.freeze(y),Object.defineProperty(e,"Observable",{value:y})})(),(()=>{"use strict";console.warn("The usage of DataTier as a script is deprecated in favor of ES6-style module, see the relevant info on library's NPM/GitHib pages. Development of this flavor distribution is stopped and only critical defects will be fixed in a short term. At the first quarter of 2019 new version of DataTier will be released having only ES6 module distribution."),(()=>{let e=window,t=Symbol.for("data-tier");for(;e.parent!==e;)e=e.parent;if(e[t])throw new Error("data-tier found to already being running within this application, cancelling current execution");e[t]=!0})();const e=this||window,t={};function r(e){return t[e]}function o(r,o,n){if(function(e){if(!e||"string"!=typeof e)throw new Error("tie name MUST be a non-empty string");if(/\W/.test(e))throw new Error("tie name MUST consist of alphanumerics or underlines ([a-zA-Z0-9_]) ONLY")}(r),t[r])throw new Error("existing tie ("+r+") MAY NOT be re-created, use the tie's own APIs to reconfigure it");return new function(r,o,n){let i;function s(t){e.DataTier.views.processChanges(r,t)}Reflect.defineProperty(this,"name",{value:r}),Reflect.defineProperty(this,"data",{get:function(){return i},set:function(t){if(t!==i){let o=i;(i=a(t))&&i.observe(s),e.DataTier.views.processChanges(r,[{path:[]}]),o&&o.revoke()}}}),t[r]=this,this.data=o,Object.seal(this)}(r,a(o),n)}function n(e){e&&t[e]&&(t[e].observable.revoke(),delete t[e])}function a(t){if(void 0===t||null===t)return t;if("object"!=typeof t)throw new Error(t+" is not of type Observable and not an object");if("function"==typeof t.observe&&"function"==typeof t.unobserve&&"function"==typeof t.revoke)return t;if(e.Observable){if("function"==typeof t.observe||"function"==typeof t.unobserve||"function"==typeof t.revoke)throw new Error(t+" is not of type Observable and can not be transformed into Observable (some of its functions already implemented?)");return e.Observable.from(t)}throw new Error(t+" is not of type Observable and no embedded Observable implementation found")}Reflect.defineProperty(e,"DataTier",{value:{}}),Reflect.defineProperty(e.DataTier,"ties",{value:{get get(){return r},get create(){return o},get remove(){return n}}})})(),(()=>{"use strict";const e=this||window,t={};function r(e,t){Reflect.defineProperty(this,"name",{value:e}),Object.assign(this,t)}function o(o,n){if("string"!=typeof o||!o)throw new Error("name MUST be a non-empty string");if(t[o])throw new Error('data controller "'+o+'" already exists; you may want to reconfigure the existing one');if("object"!=typeof n||!n)throw new Error("configuration MUST be a non-null object");if("function"!=typeof n.toView)throw new Error('configuration MUST have a "toView" function defined');t[o]=new r(o,n),e.DataTier.views.applyController(t[o])}function n(e){return t[e]}function a(e){if("string"!=typeof e||!e)throw new Error("controller name MUST be a non-empty string");return delete t[e]}function i(e){let r=[];return e&&e.dataset&&Object.keys(e.dataset).filter(e=>e in t).map(e=>t[e]).forEach(e=>r.push(e)),r}function s(e){let t="",r=[];return e&&(t=(r=e.trim().split(".")).shift()),{tieName:t,dataPath:r}}function l(e,t){return 0===t.indexOf(e)}r.prototype.toData=function(e){!function(e,t,r){let o;if(!e)return;for(o=0;o<t.length-1;o++)e=e[t[o]]&&"object"==typeof e[t[o]]?e[t[o]]:e[t[o]]={};e[t[o]]=r}(e.data,e.path,e.view.value)},r.prototype.parseParam=s,r.prototype.isChangedPathRelevant=l,Reflect.defineProperty(r.prototype,"parseParam",{value:s}),Reflect.defineProperty(r.prototype,"isChangedPathRelevant",{value:l}),Reflect.defineProperty(e.DataTier,"controllers",{value:{get get(){return n},get add(){return o},get remove(){return a},get getApplicable(){return i}}})})(),(()=>{"use strict";const e=this||window;if(!e.DataTier)throw new Error("data-tier framework was not properly initialized");const t=e.DataTier.ties,r=e.DataTier.controllers,o={},n={};function a(e){let o,n,a,i,s=e.target,l=r.getApplicable(s);for(i=l.length;i--;)if(o=l[i],e.type===o.changeDOMEventType){if(n=o.parseParam(s.dataset[o.name]),a=t.get(n.tieName),!n.dataPath)return void console.error("path to data not available");if(!a)return void console.error('tie "'+n.tieName+'" not found');o.toData({data:a.data,path:n.dataPath,view:s})}}function i(e){e.length||(e=[e]);for(let t=0,r=e.length;t<r;t++){let r=e[t];"IFRAME"===r.nodeName?(y(r.contentDocument),r.addEventListener("load",function(){y(this.contentDocument),c(this.contentDocument)}),c(r.contentDocument)):Node.ELEMENT_NODE===r.nodeType&&(r.localName.indexOf("-")<0&&!r.hasAttribute("is")?s(r):customElements.whenDefined(r.getAttribute("is")||r.localName).then(()=>s(r)))}}function s(e){let t=e.dataset,i=Object.keys(t),s=i.length;for(;s--;){let f=i[s];if(0!==f.indexOf("tie"))continue;let u=r.get(f);if(u){let r=u.parseParam(t[u.name]),n=r.dataPath.join("."),i=o[r.tieName]||(o[r.tieName]={}),s=i[u.name]||(i[u.name]={}),f=s[n]||(s[n]=[]);f.indexOf(e)<0&&(f.push(e),l(e,u.name),u.changeDOMEventType&&(c=e,p=u.changeDOMEventType,c.addEventListener(p,a)))}else n[f]||(n[f]=[]),n[f].push(e)}var c,p}function l(e,o){let n,a,i,s;a=(n=r.get(o)).parseParam(e.dataset[o]),(i=t.get(a.tieName))&&(s=function(e,t){if(e){for(let r,o=0,n=t.length;o<n;o++){if(r=t[o],!e||!e.hasOwnProperty(r))return;e=e[r]}return e}}(i.data,a.dataPath),n.toView(s,e))}function c(e){if(e&&(e.nodeType===Node.DOCUMENT_NODE||e.nodeType===Node.ELEMENT_NODE)){let t;t="IFRAME"===e.nodeName?e.contentDocument.getElementsByTagName("*"):e.getElementsByTagName("*"),i(e),i(t)}}function p(e){if(e&&e.getElementsByTagName){let i,s,l,c,p,f,u,h,d,y=e.getElementsByTagName("*");for(c=0,p=y.length;c<=p;c++)if((i=c<p?y[c]:e).dataset&&Object.keys(i.dataset).length)for(f=(s=r.getApplicable(i)).length;f--;)u=(l=s[f]).parseParam(i.dataset[l.name]),(d=(h=o[u.tieName][l.name][u.dataPath.join(".")]).indexOf(i))>=0&&(h.splice(d,1),l.changeDOMEventType&&(t=i,n=l.changeDOMEventType,t.removeEventListener(n,a)))}var t,n}function f(e,t,n,a){let i;if(i=r.get(t)){if(n){let a=r.get(t).parseParam(n);if(o[a.tieName]&&o[a.tieName][t]){let r=o[a.tieName][t][a.dataPath],n=-1;r&&(n=r.indexOf(e)),n>=0&&r.splice(n,1)}}if(a){let n=r.get(t).parseParam(a);o[n.tieName]||(o[n.tieName]={}),o[n.tieName][t]||(o[n.tieName][t]={}),o[n.tieName][t][n.dataPath]||(o[n.tieName][t][n.dataPath]=[]),o[n.tieName][t][n.dataPath].push(e),l(e,t)}}}function u(e,t){let n,a,i,s,c,p,f,u,h,d,y,v,b,g=o[e];if(g)for(d=t.length;d--;)for(a=(n=t[d]).path?n.path.join("."):null,y=(i=Object.keys(g)).length;y--;)if(u=g[s=i[y]])for(c=r.get(s),v=(p=Object.keys(u)).length;v--;)if(f=p[v],c.isChangedPathRelevant(a,f))for(b=(h=u[f]).length;b--;)l(h[b],s)}function h(e){n[e.name]&&(n[e.name].forEach(i),delete n[e.name])}function d(e){let t,r=2,o=e.split("-");for(t=o[1];r<o.length;)t+=o[r][0].toUpperCase()+o[r++].substr(1);return t}function y(e){new MutationObserver(function(e){let t,r,o,n,a,i,s,l;for(t=e.length;t--;)if("attributes"===(a=(n=e[t]).type)){let e=n.target,t=n.attributeName;if(e.nodeType!==Node.DOCUMENT_NODE&&e.nodeType!==Node.ELEMENT_NODE)continue;0===t.indexOf("data-tie")?f(e,d(t),n.oldValue,e.getAttribute(t)):"src"===t&&"IFRAME"===e.nodeName&&p(e.contentDocument)}else if("childList"===a){for(r=(i=n.addedNodes).length;r--;)(l=i[r]).nodeType!==Node.DOCUMENT_NODE&&l.nodeType!==Node.ELEMENT_NODE||("IFRAME"===l.nodeName?(l.contentDocument&&(y(l.contentDocument),c(l.contentDocument)),l.addEventListener("load",function(){y(this.contentDocument),c(this.contentDocument)})):c(l));for(o=(s=n.removedNodes).length;o--;)(l=s[o]).nodeType!==Node.DOCUMENT_NODE&&l.nodeType!==Node.ELEMENT_NODE||("IFRAME"===l.nodeName?p(l.contentDocument):p(l))}}).observe(e,{childList:!0,attributes:!0,characterData:!1,subtree:!0,attributeOldValue:!0,characterDataOldValue:!1})}Reflect.defineProperty(e.DataTier,"views",{value:{get processChanges(){return u},get applyController(){return h},get updateView(){return l}}}),y(document),c(document)})(),(()=>{"use strict";const e=(this||window).DataTier.controllers.add;e("tieProperty",{parseParam:function(e){return this.constructor.prototype.parseParam(e?e.split("=>").shift().trim():null)},toView:(e,t)=>{t[t.dataset.tieProperty.split("=>").pop().trim()]=e}}),e("tieValue",{toView:function(e,t){"checkbox"===t.type?t.checked=e:t.value=void 0!==e&&null!==e?e:""},changeDOMEventType:"change"}),e("tieInput",{toView:function(e,t){t.value=void 0!==e&&null!==e?e:""},changeDOMEventType:"input"}),e("tieText",{toView:function(e,t){t.textContent=void 0!==e&&null!==e?e:""}}),e("tiePlaceholder",{toView:function(e,t){t.placeholder=void 0!==e&&null!==e?e:""}}),e("tieTooltip",{toView:function(e,t){t.title=void 0!==e&&null!==e?e:""}}),e("tieSrc",{toView:function(e,t){t.src=void 0!==e&&null!==e?e:""}}),e("tieHref",{toView:function(e,t){t.href=void 0!==e&&null!==e?e:""}}),e("tieClasses",{isChangedPathRelevant:function(e,t){let r=e.replace(t,"").split(".");return this.constructor.prototype.isChangedPathRelevant(e,t)||1===r.length||2===r.length&&""===r[0]},toView:function(e,t){e&&"object"==typeof e&&Object.keys(e).forEach(function(r){e[r]?t.classList.add(r):t.classList.remove(r)})}})})(),(()=>{"use strict";const e=(this||window).DataTier.controllers.add;function t(e){let t=e||"textContent";this.format="dd/MM/yyyy hh:mm:ss",this.toView=function(e,r){let o=e;if(e)if(e instanceof Date)o=n(e,this.format);else try{let t=new Date(e);t instanceof Date&&(o=n(t,this.format))}catch(t){console.error('failed to parse "'+e+'" as date',t)}else o="";r[t]=o}}function r(){t.call(this,"value"),this.toData=function(e){console.warn("yet to be implemented, react on "+e)}}e("tieDateValue",{toView:function(e,t){t.value=void 0!==e&&null!==e?e.toLocaleString():""}}),e("tieDateText",{toView:function(e,t){t.textContent=void 0!==e&&null!==e?e.toLocaleString():""}}),e("tieDatetimeText",new t),e("tieDatetimeValue",new r),r.prototype=Object.create(t.prototype),r.prototype.constructor=r;let o={d:function(e,t){return e.getDate().toString().padStart(t,"0")},M:function(e,t){return(e.getMonth()+1).toString().padStart(t,"0")},y:function(e,t){let r=e.getFullYear().toString();return r.length>t?r.substr(r.length-t):r.padStart(t,"0")},h:function(e,t){return e.getHours().toString().padStart(t,"0")},m:function(e,t){return e.getMinutes().toString().padStart(t,"0")},s:function(e,t){return e.getSeconds().toString().padStart(t,"0")},f:function(e,t){return e.getMilliseconds().toString().padStart(t,"0")}};function n(e,t){let r="";if(t){let n,a;for(let i=0,s=t.length;i<s;i++)if(n=t.charAt(i),o[n]){for(a=1;i<s-1&&t.charAt(i+1)===n;)a++,i++;r+=o[n](e,a)}else r+=n}else r=e.toLocaleString();return r}})(),(()=>{"use strict";const e=this||window,t=e.DataTier.controllers.add,r=e.DataTier.views;function o(e,t,r,o,n){let a,i,s,l,c,p,f,u,h,d,y,v=null,b=o,g=r[0]+".";for(i=t.content,f=(a=function(e,t){let r,o,n,a,i,s,l={index:[]},c=e.content.querySelectorAll("*"),p=c.length;for(;p--;)if((r=c[p]).nodeType===Node.DOCUMENT_NODE||r.nodeType===Node.ELEMENT_NODE){for(n=(o=Object.keys(r.dataset)).length,s=[];n--;)a=o[n],i=r.dataset[a],a.startsWith("tie")&&i.startsWith(t)&&s.push([a,i.replace(t,"")]);s.length&&(l[p]=s,l.index.push(p))}return l}(t,r[2])).index;b<n;b++){for(u=(s=i.cloneNode(!0)).querySelectorAll("*"),l=f.length;l--;)for(h=u[p=f[l]],c=(d=a[p]).length;c--;)y=d[c][0],h.dataset[y]=g+b+d[c][1];b===o?v=s:v.appendChild(s)}e.appendChild(v)}t("tieList",{parseParam:function(e){return this.constructor.prototype.parseParam(e.split(/\s*=>\s*/)[0])},isChangedPathRelevant:function(e,t){if(!e)return!0;let r=e.replace(t,"").split(".");return this.constructor.prototype.isChangedPathRelevant(e,t)||1===r.length||2===r.length&&""===r[0]},toView:function(e,t){if(!Array.isArray(e)||!t)return;let n,a,i,s=t.parentNode,l=e.length;if("TEMPLATE"!==t.nodeName)throw new Error("tieList may be defined on template elements only");if(1!==t.content.childElementCount)throw new Error("tieList's TEMPLATE element MUST HAVE exactly one direct child element");(i=(a=t.content.firstElementChild.dataset).dtListItemAid)||(i=(new Date).getTime(),a.dtListItemAid=i);let c=s.querySelectorAll('[data-dt-list-item-aid="'+i+'"]'),p=c.length;if(p>l)for(;p>l;)s.removeChild(c[--p]);!function(e,t,o){let n,a=e.content.querySelectorAll("*"),i=[];for(n=a.length;n--;)i[n]=Object.keys(a[n].dataset).filter(e=>e.startsWith("tie"));let s,l,c,p,f,u,h=0;for(n=0;h<o;)if((c=t.childNodes[n++])!==e&&(c.nodeType===Node.DOCUMENT_NODE||c.nodeType===Node.ELEMENT_NODE)&&c.dataset.dtListItemAid){for(p=c.querySelectorAll("*"),s=i.length;s--;)for(f=s?p[s-1]:c,l=(u=i[s]).length;l--;)r.updateView(f,u[l]);h++}}(t,s,p),p<l&&o(s,t,n=function(e){let t;if(e&&(!(t=e.trim().split(/\s+/))||3!==t.length||"=>"!==t[1]))throw new Error('invalid parameter for "tieList" rule specified');return t}(t.dataset.tieList),p,l)}})})();